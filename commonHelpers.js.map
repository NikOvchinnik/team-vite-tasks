{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import { nanoid } from 'nanoid';\nconst formElem = document.querySelector('#task-form');\nconst listElem = document.querySelector('#task-list');\n\nformElem.addEventListener('submit', onFormSubmit);\n// console.log(JSON.parse(localStorage.getItem('task')) || []);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const inputValue = e.currentTarget.elements.taskName.value.trim();\n  if (!inputValue) return;\n  const id = nanoid();\n  addMarkup(inputValue, id);\n  const localArray = getLocalStorage('task') || [];\n  localArray.push({\n    text: inputValue,\n    id,\n  });\n  setItemLocalStorage('task', localArray);\n\n  e.target.reset();\n}\n\nfunction addMarkup(markup, id) {\n  const li = `<li id=\"${id}\">${markup}\n  <button type=\"button\">X</button>\n  </li>`;\n  listElem.insertAdjacentHTML('beforeEnd', li);\n}\n\nfunction getLocalStorage(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n\nfunction setItemLocalStorage(key, data) {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n\nfunction addLocalValue() {\n  const localArray = getLocalStorage('task');\n  if (localArray === null) return;\n\n  const arrayValue = localArray\n    .map(elem => {\n      return `<li id=\"${elem.id}\">${elem.text}\n      <button type=\"button\">X</button>\n      </li>`;\n    })\n    .join('');\n  listElem.insertAdjacentHTML('beforeEnd', arrayValue);\n}\n\naddLocalValue();\n\nlistElem.addEventListener('click', deleteTask);\n\nfunction deleteTask(e) {\n  if (e.target.nodeName !== 'BUTTON') return;\n  e.target.parentNode.remove();\n  const arr = getLocalStorage('task');\n  const filtredArr = arr.filter(item => item.id !== e.target.parentNode.id);\n  setItemLocalStorage('task', filtredArr);\n}\n"],"names":["formElem","listElem","onFormSubmit","e","inputValue","id","nanoid","addMarkup","localArray","getLocalStorage","setItemLocalStorage","markup","li","key","data","addLocalValue","arrayValue","elem","deleteTask","filtredArr","item"],"mappings":"svBACA,MAAMA,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAW,SAAS,cAAc,YAAY,EAEpDD,EAAS,iBAAiB,SAAUE,CAAY,EAGhD,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,cAAc,SAAS,SAAS,MAAM,OAC3D,GAAI,CAACC,EAAY,OACjB,MAAMC,EAAKC,IACXC,EAAUH,EAAYC,CAAE,EACxB,MAAMG,EAAaC,EAAgB,MAAM,GAAK,CAAA,EAC9CD,EAAW,KAAK,CACd,KAAMJ,EACN,GAAAC,CACJ,CAAG,EACDK,EAAoB,OAAQF,CAAU,EAEtCL,EAAE,OAAO,OACX,CAEA,SAASI,EAAUI,EAAQN,EAAI,CAC7B,MAAMO,EAAK,WAAWP,CAAE,KAAKM,CAAM;AAAA;AAAA,SAGnCV,EAAS,mBAAmB,YAAaW,CAAE,CAC7C,CAEA,SAASH,EAAgBI,EAAK,CAC5B,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC7C,CAEA,SAASH,EAAoBG,EAAKC,EAAM,CACtC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAI,CAAC,CAChD,CAEA,SAASC,GAAgB,CACvB,MAAMP,EAAaC,EAAgB,MAAM,EACzC,GAAID,IAAe,KAAM,OAEzB,MAAMQ,EAAaR,EAChB,IAAIS,GACI,WAAWA,EAAK,EAAE,KAAKA,EAAK,IAAI;AAAA;AAAA,YAGxC,EACA,KAAK,EAAE,EACVhB,EAAS,mBAAmB,YAAae,CAAU,CACrD,CAEAD,IAEAd,EAAS,iBAAiB,QAASiB,CAAU,EAE7C,SAASA,EAAWf,EAAG,CACrB,GAAIA,EAAE,OAAO,WAAa,SAAU,OACpCA,EAAE,OAAO,WAAW,SAEpB,MAAMgB,EADMV,EAAgB,MAAM,EACX,OAAOW,GAAQA,EAAK,KAAOjB,EAAE,OAAO,WAAW,EAAE,EACxEO,EAAoB,OAAQS,CAAU,CACxC"}